<div class="w-full mb-10 flex items-center flex-no-wrap justify-between">
	<h3 lang langLabel="celulares:titulo" class="font-bold m-0 display-block w-full m-0">Celulares</h3>

	<button (click)="ObtenerTodo()" nz-button nzType="text" nz-tooltip [nzTooltipTitle]="titleTemplate">
		<i nz-icon nzType="reload" nzTheme="outline"></i>
	</button>
	<ng-template #titleTemplate>
		<span lang langLabel="vs-tooltip:recargar">Volver a cargar</span>
	</ng-template>
</div>

<form nz-form [formGroup]="form" class="w-full grid">

	<div class="grid-col-2">
		<p lang langLabel="celulares:codigo-pais" class="label">Codigo de País:</p>
		<nz-form-item>
			<nz-form-control nzHasFeedback [nzErrorTip]="combineTpl">
				<vs-select-codigo-pais formControlName="codigoPais"></vs-select-codigo-pais>
				<ng-template #combineTpl let-control>
					<ng-container *ngIf="control.hasError('required')">
						<p lang langLabel="vs-formulario:requerido">El campo es requerido</p>
					</ng-container>
				</ng-template>
			</nz-form-control>
		</nz-form-item>
	</div>

	<div class="grid-col-2">
		<p lang langLabel="celulares:numero" class="label">Número:</p>
		<nz-form-item>
			<nz-form-control nzHasFeedback [nzErrorTip]="combineTpl2">
				<input vs-trim nz-input formControlName="numero" Width="180px" class="configuracionControles">
				<ng-template #combineTpl2 let-control>
					<ng-container *ngIf="control.hasError('required')">
						<p lang langLabel="vs-formulario:requerido">El campo es requerido</p>
					</ng-container>
					<ng-container *ngIf="control.hasError('minlength')">
						<p lang langLabel="vs-formulario:minLength-diez">La longitud mínima del texto es 10
							caracteres</p>
					</ng-container>
					<ng-container *ngIf="control.hasError('maxlength')">
						<p lang langLabel="vs-formulario:maxLength-diez">La longitud máxima del texto es 10
							caracteres</p>
					</ng-container>
					<ng-container *ngIf="control.hasError('pattern')">
						<p lang langLabel="vs-formulario:pattern-numero">El valor ingresado no es un número valido</p>
					</ng-container>
				</ng-template>
			</nz-form-control>
		</nz-form-item>
	</div>

	<div class="grid-col-2">
		<p lang langLabel="celulares:operadora" class="label">Operadora:</p>
		<nz-form-item>
			<nz-form-control nzHasFeedback [nzErrorTip]="combineTpl">
				<vs-select-operadora-movil formControlName="codigoOperadora"></vs-select-operadora-movil>
				<ng-template #combineTpl let-control>
					<ng-container *ngIf="control.hasError('required')">
						<p lang langLabel="vs-formulario:requerido">El campo es requerido</p>
					</ng-container>
				</ng-template>
			</nz-form-control>
		</nz-form-item>
	</div>

	<div class="grid-col-3">
		<p lang langLabel="celulares:observacion" class="label">Observacion:</p>
		<nz-form-item>
			<nz-form-control nzHasFeedback [nzErrorTip]="combineTpl">
				<input vs-trim nz-input formControlName="observaciones">
				<ng-template #combineTpl let-control>
					<ng-container *ngIf="control.hasError('required')">
						<p lang langLabel="vs-formulario:requerido">El campo es requerido</p>
					</ng-container>
				</ng-template>
			</nz-form-control>
		</nz-form-item>
	</div>

	<div class="grid-col-1">
		<p class="label" style="opacity: 0;">.</p>
		<div class="flex items-center">
			<label nz-checkbox formControlName="principal">
				<p lang langLabel="celulares:principal">Principal</p>
			</label>
		</div>
	</div>

	<div class="grid-col-2">
		<p class="label" style="opacity: 0;">.</p>
		<div class="w-full flex items-center flex-no-wrap">
			<button nz-button nzType="primary" class="w-full" (click)="IngresarFila()">
				<div lang langLabel="celulares:insertar-celular" *ngIf="_accion === 'Insertar'; else elseBlock">
					Insertar
				</div>
				<ng-template #elseBlock>
					<div lang langLabel="celulares:actualizar-celular">
						Actualizar
					</div>
				</ng-template>
			</button>
			<button *ngIf="_accion !== 'Insertar'"
				(click)="ResetearVista()"
				nz-tooltip nzTooltipTitle="Nuevo registro"
				nz-button style="width: 4rem;" class="ml-7"><i nz-icon nzType="plus" nzTheme="outline"></i></button>
		</div>
	</div>
</form>

<div class="w-full pt-30">

	<nz-table [nzShowPagination]="false" nzSize="small" [nzLoading]="cargando.listar" [nzData]="listaCelulares">
		<thead>
		<tr>
			<th lang langLabel="celulares:numero">Número</th>
			<th lang langLabel="celulares:operadora">Operadora</th>
			<th lang langLabel="celulares:observaciones">Observaciones</th>
			<th class="min-size"></th>
		</tr>
		</thead>
		<tbody>
		<ng-container *ngFor="let data of listaCelulares; let i = index">

			<ng-container *ngIf="data.accion != accionesHtml.Eliminar">
				<tr>
					<td [ngClass]="{'font-medium': data.objeto.principal}">
						{{data.objeto.numero}}
						<ng-container *ngIf="data.objeto.principal">
							<nz-tag lang langLabel="celulares:principal" nzColor="#00a761" class="m-0 ml-7">Principal
							</nz-tag>
						</ng-container>
					</td>
					<td>{{ObtenerNombreOperadoraPorCodigo(data.objeto.codigoOperadora)}}</td>
					<td>{{data.objeto.observaciones}}</td>

					<td>
						<div class="flex items-center flex-no-wrap">
							<button nz-tooltip [nzTooltipTitle]="titleEditar" nz-button nzType="text" class="mr-7"
									(click)="EditarFila(data,i)">
								<i nz-icon nzType="edit" nzTheme="outline"></i>
							</button>
							<button nz-popconfirm
							[nzPopconfirmTitle]="titleConfirmarEliminar"
							(nzOnConfirm)="EliminarFila(i)"  nzPopconfirmPlacement="topRight" nz-tooltip [nzTooltipTitle]="titleEliminar" nz-button nzType="text"
									class="text-red-600 hover:text-red-800"><!-- (click)="EliminarFila(i)">-->
								<i nz-icon nzType="delete" nzTheme="outline"></i>
							</button>
							<ng-template #titleEditar>
								<span lang langLabel="vs-tooltip:editar">Editar</span>
							</ng-template>
							<ng-template #titleEliminar>
								<span lang langLabel="vs-tooltip:eliminar">Eliminar</span>
							</ng-template>
							<ng-template #titleConfirmarEliminar>
								<span lang langLabel="vs-tooltip:confirmar-eliminar">Eliminar</span>
							</ng-template>
						</div>
					</td>
				</tr>
			</ng-container>
		</ng-container>
		</tbody>
	</nz-table>
</div>

<!--<div class="w-full pt-20 text-right" *ngIf="mostrarGuardar">-->
<!--	<button lang langLabel="celulares:guardar-cambios" nz-button nzType="primary" [nzLoading]="cargando.guardar"-->
<!--			class="vs-btn-green" (click)="GuardarBase()">Guardar cambios-->
<!--	</button>-->
<!--</div>-->
